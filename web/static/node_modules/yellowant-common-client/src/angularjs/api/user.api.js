import angular from 'angular';

import { apiService } from './api.service';
import { djangoConstants } from '../django-constants';

export let userApi = angular
  .module('userApi', [
    apiService,
    djangoConstants
  ])
  .factory('UserApi', UserApi)
  .name;

UserApi.$inject = ['ApiService', 'DjangoConstants', '$q'];

function UserApi(api, DjangoConstants, $q) {
  var config = {
    endpoint: "user/"
  }

  var endpoint = {
    teams: function () { return config.endpoint + 'getSharedTeams/' }
  }

  return {
    getTeams: getTeams
  }

  function getTeams() {
    return api.get(endpoint.teams());
  }
}